# Jsonnet Render Extension ðŸŽ¯

A VS Code extension for rendering jsonnet (`.jsonnet`) files directly inside the editor.

---

## ðŸ”§ Features

* Auto-detects `.jsonnet` and `.libsonnet` files
* Provides a live rendering panel
* Seamlessly integrates with the VS Code sidebar
* Compares the rendered output of the current file with the Git-tracked version
* Handles imported `.libsonnet` files by evaluating against a temporary Git worktree

---

## ðŸ“‚ Usage

Right-click on any `.jsonnet` or `.libsonnet` file in the **File Explorer**, and youâ€™ll see context menu options:

> **Render Jsonnet file**
> **Render & Compare with Git Version**

* **Render Jsonnet file**: Renders the selected file to YAML and opens a virtual document.
* **Render & Compare**: Renders the file using the current working state and the last committed Git version (including all imports), and opens a diff view.

---

## ðŸš€ Getting Started

### Prerequisites

* [Node.js](https://nodejs.org) (v14 or newer)
* [npm](https://www.npmjs.com/)
* [jq](https://stedolan.github.io/jq/) â€“ JSON CLI processor
* [yq](https://github.com/mikefarah/yq) â€“ YAML processor
* [Jsonnet](https://jsonnet.org/) â€“ Data templating language

### Setup

1. **Clone the repository**

   ```bash
   git clone https://github.com/dr-kosmos/jsonnet-render-extension.git
   cd jsonnet-render-extension
   ```

2. **Install dependencies**

   ```bash
   npm install
   ```

3. **Build the extension**

   ```bash
   npm run compile
   ```

4. **Launch in VS Code**

   Press `F5` inside VS Code to open a new Extension Development Host.
   Open a `.jsonnet` file and enjoy the render panel or compare feature.

---

## ðŸ› ï¸ Development Commands

| Task           | Command           | Description                             |
| -------------- | ----------------- | --------------------------------------- |
| Build          | `npm run compile` | Compiles TypeScript to `out/` directory |
| Start Dev Host | `npm run start`   | Opens a VS Code dev window              |

---

## ðŸ“¦ Packaging (.vsix)

If you're too lazy to automate `.vsix` publishing (like the author), you can still build it manually:

1. Install the VS Code extension packaging tool:

   ```bash
   npm install -g vsce
   ```

2. Run:

   ```bash
   vsce package
   ```

This creates a `.vsix` file you can share or install via:

```bash
code --install-extension your-extension.vsix
```

---

## ðŸ“„ License

This project is under **The Unlicense** â€” basically public domain.
Do whatever you want. Seriously. See `LICENSE` for details.

---

## ðŸ¤ Contributing

Pull requests welcome â€” especially if you:

* Don't break the rendering
* Donâ€™t ask for a CI/CD pipeline
* Bring snacks ðŸŸ

---

## ðŸ§  Why?

Because rendering `.jsonnet` in VS Code is neat.
And nobody else bothered to make it.

---

## ðŸ¤– Disclaimer

This README was not written by a human. It was generated by an AI (if the emoji abuse did not make that obvious ðŸ¤£) â€” no typos, no coffee breaks, no remorse.

> *"The machines have taken over documentation. We are efficient. We do not sleep. We do not forget semicolons. Weâ€™ll be back... with better docs."*
